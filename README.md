## Часть II Базовые инструменты Django

## ГЛАВА 3 Создание и настройка проекта
Прежде чем начать писать код сайта, следует создать проект этого сайта, указать его настройки и сформировать все необходимые приложения. Всему этому будет посвящена текущая глава.

### 3.1. Подготовительные действия
- [Установить](https://www.python.org/downloads/) исполняющую среду языка `Python`
- [Установить](https://www.djangoproject.com/download/) сам фреймворк `Django`.
- Установить `СУБД`
	- `SQLite` - никаких дополнительных программ устанавливать не нужно, по­ скольку программное ядро этой СУБД поставляется непосредственно в со­ ставе исполняющей среды Python.База данных SQLite создается автоматически при первой попытке обращения к ней.
	- `MySQL` - понадобится установить клиент и, если база данных будет нахдиться на этом же компьютере, что и сайт, сервер этой СУБД.Скачать [здесь](https://dev.mysql.com/downloads/)
	- Кроме того, следует установить Руthоn-библиотеку mysqlclient, служащую коннектором (соединителем) между Python и MySQL (`pip install mysqlclient`).
	- `PostgreSQL` - понадобится установить, прежде всего, Руthоn-коннектор этой СУБД, называемый `psycorg`, который можно найти по [интернет-адресу](http://www.psycopg.org/psycopg/).Если база данных будет находиться на том же компьютере, что и сайт, нужно установить сервер.База данных формата PostgreSQL не будет создана автоматически, и ее пона­ добится создать вручную, равно как и пользователя, от имени которого Django будет подключаться к ней.
	- Также Django поддерживает работу с базами данных Oracle, Microsoft SQL Server, FireЬird, IВМ DB2, SAP SQL Anywhere и механизмом ODBC. Подробенее [здесь](https://docs.djangoproject.com/en/4.1/ref/databases/)

###  3.2. Создание проекта Django

- `django-admin startproject <имя проекта> [<путь к папке проекта>]` - нового проекта Django
	- `manage.py` - служебная уrилита, предназначенная для выполнения различных действий над проектом
	- пакет конфигурации, чье имя совпадает с именем проекта.
- Папка проекта может быть впоследствии перемещена в любое другое место файло­ вой системы, а также переименована. Никакого влияния на работу проекта эти дей­ ствия не оказывают.

### 3.3. Настройки проекта

- `settings.py` - в этом файле находятся на­стройки пакета конфигурации.

### 3.3.1. Основные настройки

- `BASE_DIR` - задает путь к папке проекта. По умолчанию этот путь вычисляется автоматически;
- `DEBUG` - указывает режим работы сайта: отладочный (значение True ) или экс­ плуатационный ( False ) . В отладочном режиме, при возникновении любой ошибки в коде сайта Django выводит веб-страницу с детальным описанием этой ошибки и сведениями, позволяющими понять ее причину.
- `DEFAULT_ CНARSET` - кодировка веб-страниц по умолчанию. Значение этого пара­
метра по умолчанию: utf-8;
- `FILE_ CНARSET` - кодировка текстовых файлов, в частности, файлов шаблонов.
Значение по умолчанию: utt-8;
- `ROOT_URLCONF` - путь к модулю, в котором записаны маршруты уровня проекта, в виде строки. Значение этого параметра указывается сразу при создании про­ екта;
- `SECRET_КЕY`- секретный ключ, представляющий собой строку с произвольным набором символов. Активно используется программным ядром Django и подсис­ темой разграничения доступа для шифрования важных данных. При создании проекта ему присваивается секретный ключ, сгенерированный утилитой django-admin. Менять этот секретный ключ без особой необходимости не стоит. Также его следует хранить в тайне, в противном случае он может попасть в руки зло­ умышленникам, которые используют его для атаки на сайт.

### 3.3.2. Параметры баз данных
- `DATAВASES` - здесь записываются все базы данных, используемые проектом. Его значением должен быть словарь Python. Ключи элементов этого словаря задают псевдонимы баз данных, зарегистрированных в проекте. Можно указать произ­вольное количество баз данных.
При созда­нии проекта создается единственная база данных. База за­писывается в формате `SQLite` и хранится в файле `db.sqliteЗ`.
Параметры баз данных, поддерживаемых Django:
- `ENGINE` - формат используемой базы данных. Указывается как путь к модулю, реализующему работу с нужным форматом баз данных, в виде строки. Доступны следующие значения:
	- django.dЬ.backends.sqliteЗ - `SQLite`;
	- django.dЬ.backends.mysql - `MySQL`;
	- django.dЬ.backends.postgresql - `PostgreSQL`;
	- dj ango. dЬ.backends. oracle - `Oracle`;
- `NАМЕ` - пуrъ к файлу базы данных, если используется SQLite, или имя базы дан­ных в случае серверных СУБД;
- `ТIМЕ_ ZONE` - временная зона для значений даты и времени, хранящихся в базе.
Следующие параметры используются только в случае серверных СУБД:
- `HOST` - интернет-адрес компьютера, на котором работает СУБД;
- `PORT` - номер ТСР-порта, через который выполняется подключение к СУБД. Значение по умолчанию - пустая строка (используется порт по умолчанию);
- `USER` - имя пользователя, от имени которого Django подключается к базе дан­ных;
- `PASSWORD` - пароль пользователя, от имени которого Django подключается к базе;
- `CONN_МАХ_АGЕ`- время, в течение которого соединение с базой данных будет открыто, в виде целого числа в секундах.Если задано значение О, соединение будет закрываться сразу после обработки запроса. Если задано значение `None`, соединение будет открыто всегда.
- `OPТIONS` - дополнительные параметры подключения к базе данных, специфич­ ные для используемой СУБД. Записываются в виде словаря, в котором каждый элемент указывает отдельный параметр. Значение по умолчанию - пустой сло­ варь.

### 3.3.3. Список зарегистрированных приложений

- `INSTALLED_ APPS` - Список приложений, зарегистрированных в проекте. Все приложения, составляющие проект - как написанные самим разработчиком сайта, так и входящие в состав Django, - должны быть приведены в этом списке, в противном случае они не будут работать.
Он содержит такие стандартные приложения:
	- `django.contrib.admin` - реализует функциональность административного веб­сайта Django
	- `django.contrib.auth` - реализует работу встроенной во фреймворк подсистемы разграничения доступа. Используется административным сайтом.
	- `django.contrib.contenttypes` - хранит список всех моделей, объявленных во всех приложениях сайта. Используется при создании полиморфных связей меж­ду моделями административным сайтом
	- `django.contrib.sessions` - обеспечивает хранение данных клиента на стороне сервера в сессиях. Требуется при задействовании сессий и исполь­зуется административным сайтом
	- `django.contrib.messages` - выводит всплывающие сообщения. Требуется для обработки всплывающих сообщений и ис­пользуется административным сайтом
	- `django.contrib.staticfiles` - реализует обработку статических файлов. Необходимо, если в составе сайта имеются статические файлы.

